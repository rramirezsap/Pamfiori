sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/BusyDialog","sap/m/MessageBox"],function(e,s,o,t){"use strict";return e.extend("invoice.analyzer.controller.App",{onInit:function(){const e=new s({results:[]});this.getView().setModel(e,"resultsModel")},onUpload:function(){const e=this.getView();const s=new o({title:"Processing",text:"Processing file, please wait..."});s.open();setTimeout(function(){const o=[{invoiceId:"INV02288-1235996",status:"Approved",serviceNowCase:"CS12553456",error:"tax error",aiInsight:"Possible tax mismatch",suggestedAction:"Review tax mapping"},{invoiceId:"INV02288-1235998",status:"Reconciled",serviceNowCase:"CS12553498",error:"no errors",aiInsight:"No issues detected",suggestedAction:"No action required"}];const t=e.getModel("resultsModel");t.setProperty("/results",o);s.close()},5e3)},onNavigateToDashboard:function(){const e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Dashboard")},onAskAI:function(){var e=this.getView().byId("aiInput").getValue();if(!e){sap.m.MessageBox.warning("Please enter a question.");return}fetch("https://invoice-ai-agent.cfapps.us10-001.hana.ondemand.com/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e})}).then(e=>{if(!e.ok){throw new Error("Server response error")}return e.json()}).then(e=>{sap.m.MessageBox.information("AI Response:\n"+e.answer)}).catch(e=>{sap.m.MessageBox.error("Error contacting AI service:\n"+e.message)})}})});
//# sourceMappingURL=App.controller.js.map